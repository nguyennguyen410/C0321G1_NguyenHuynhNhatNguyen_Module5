<app-header></app-header>
<div>
  <div class="col-md-12" style="margin: 10px">
    <div align="center">
      <caption><h2>List of Customer</h2></caption>
      <div class="mb-2">
        <a class="btn btn-primary d-inline-block mb-2" href="/createCustomer"
           style="color: lightcyan; float: left; margin-top: 10px">Create Customer</a>
        <a class="btn btn-primary d-inline-block mb-2" href="/customerUsingService"
           style="color: lightcyan; float: right; margin-top: 10px">Customer Using Service</a>
      </div>
      <div>
        <div class="mt-2">
          <table id="tableCustomer" class="table table-striped table-bordered"
                 style="overflow-x: scroll">
            <thead>
            <tr>
              <th>No</th>
              <th>Customer ID</th>
              <th>Customer Name</th>
              <th>Customer Type</th>
              <!--<th>Customer Birthday</th>-->
              <th>Customer Gender</th>
              <th>Customer ID Card</th>
              <!--<th>Customer Phone</th>
              <th>Customer Email</th>-->
              <th>Customer Address</th>
              <th colspan="2" style="text-align: center">Action</th>
              <!--<th sec:authorize="hasRole('ADMIN')">delete</th>-->
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let customer of listCustomers,index as i ">
              <td>{{i + 1}}</td>
              <td>{{customer.customerId}}</td>
              <td>{{customer.customerName}}</td>
              <td>{{customer.customerBirthday}}</td>
              <!--<td th:text="${customer.customerBirthday}"></td>-->
              <td *ngIf="customer.customerGender == 1">Male</td>
              <td *ngIf="customer.customerGender == 0">Female</td>
              <td>{{customer.customerIdCard}}</td>
              <!--<td th:text="${customer.customerPhone}"></td>
              <td th:text="${customer.customerEmail}"></td>-->
              <td>{{customer.customerAddress}}</td>
              <td>
                <a class="btn btn-warning">Edit</a>
              </td>
              <td>
                <button type="button" class="deleteButton btn btn-danger" data-toggle="modal"
                        data-target="#deleteModal">
                  Delete
                </button>
              </td>
              <!--<td><a th:href="@{/blog/view/__${blog.id}__ }">View</a></td>-->
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div>
        <nav aria-label="...">
          <ul class="pagination">
            <li class="page-item disabled">
              <a class="page-link" href="#" tabindex="-1">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item active">
              <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
            </li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
              <a class="page-link" href="#">Next</a>
            </li>
          </ul>
        </nav>
        <!-- Modal -->
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete <input readonly
                                                                             style="outline: none; border: none;"
                                                                             type="text" id="userName"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <form action="/deleteCustomer" method="get">
                <input type="hidden" name="customerIdDelete" value="" id="customerIdDelete">
                <div class="modal-body">
                  Delete <span id="userName1"></span>, Are you sure?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary">Delete</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    $(document).ready(function () {
      $('.deleteButton').click(function () {
        let id = $(this).next().val();
        let name = $(this).next().next().val();
        console.log(id + " " + name);
        document.getElementById("userName1").innerText = name;
        document.getElementById("customerIdDelete").value = id;
      })
    });
  </script>
  <app-footer></app-footer>
